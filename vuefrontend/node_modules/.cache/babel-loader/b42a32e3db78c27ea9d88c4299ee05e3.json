{"remainingRequest":"C:\\Final-Project\\vuefrontend\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Final-Project\\vuefrontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Final-Project\\vuefrontend\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Final-Project\\vuefrontend\\src\\store.js","dependencies":[{"path":"C:\\Final-Project\\vuefrontend\\src\\store.js","mtime":1601479067231},{"path":"C:\\Final-Project\\vuefrontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Final-Project\\vuefrontend\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Final-Project\\vuefrontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Final-Project\\vuefrontend\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCB7IGdldEFQSSB9IGZyb20gJy4vYXhpb3MtYXBpJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBhY2Nlc3NUb2tlbjogbnVsbCwKICAgIHJlZnJlc2hUb2tlbjogbnVsbCwKICAgIEFQSURhdGE6ICcnCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHVwZGF0ZVN0b3JhZ2U6IGZ1bmN0aW9uIHVwZGF0ZVN0b3JhZ2Uoc3RhdGUsIF9yZWYpIHsKICAgICAgdmFyIGFjY2VzcyA9IF9yZWYuYWNjZXNzLAogICAgICAgICAgcmVmcmVzaCA9IF9yZWYucmVmcmVzaDsKICAgICAgc3RhdGUuYWNjZXNzVG9rZW4gPSBhY2Nlc3M7CiAgICAgIHN0YXRlLnJlZnJlc2hUb2tlbiA9IHJlZnJlc2g7CiAgICB9LAogICAgZGVzdHJveVRva2VuOiBmdW5jdGlvbiBkZXN0cm95VG9rZW4oc3RhdGUpIHsKICAgICAgc3RhdGUuYWNjZXNzVG9rZW4gPSBudWxsOwogICAgICBzdGF0ZS5yZWZyZXNoVG9rZW4gPSBudWxsOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5hY2Nlc3NUb2tlbiAhPSBudWxsOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgdXNlckxvZ291dDogZnVuY3Rpb24gdXNlckxvZ291dChjb250ZXh0KSB7CiAgICAgIGlmIChjb250ZXh0LmdldHRlcnMubG9nZ2VkSW4pIHsKICAgICAgICBjb250ZXh0LmNvbW1pdCgnZGVzdHJveVRva2VuJyk7CiAgICAgIH0KICAgIH0sCiAgICB1c2VyTG9naW46IGZ1bmN0aW9uIHVzZXJMb2dpbihjb250ZXh0LCB1c2VyY3JlZGVudGlhbHMpIHsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgICBnZXRBUEkucG9zdCgnL2FwaS10b2tlbi8nLCB7CiAgICAgICAgICB1c2VybmFtZTogdXNlcmNyZWRlbnRpYWxzLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHVzZXJjcmVkZW50aWFscy5wYXNzd29yZAogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBjb250ZXh0LmNvbW1pdCgndXBkYXRlU3RvcmFnZScsIHsKICAgICAgICAgICAgYWNjZXNzOiByZXNwb25zZS5kYXRhLmFjY2VzcywKICAgICAgICAgICAgcmVmcmVzaDogcmVzcG9uc2UuZGF0YS5yZWZyZXNoCiAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUoKTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICByZWplY3QoZXJyKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["C:/Final-Project/vuefrontend/src/store.js"],"names":["Vue","Vuex","getAPI","use","Store","state","accessToken","refreshToken","APIData","mutations","updateStorage","access","refresh","destroyToken","getters","loggedIn","actions","userLogout","context","commit","userLogin","usercredentials","Promise","resolve","reject","post","username","password","then","response","data","catch","err"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,MAAT,QAAuB,aAAvB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AACA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;AAC5BC,EAAAA,KAAK,EAAE;AACJC,IAAAA,WAAW,EAAE,IADT;AAEJC,IAAAA,YAAY,EAAE,IAFV;AAGJC,IAAAA,OAAO,EAAE;AAHL,GADqB;AAM5BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,aADS,yBACML,KADN,QACkC;AAAA,UAAnBM,MAAmB,QAAnBA,MAAmB;AAAA,UAAXC,OAAW,QAAXA,OAAW;AACzCP,MAAAA,KAAK,CAACC,WAAN,GAAoBK,MAApB;AACAN,MAAAA,KAAK,CAACE,YAAN,GAAqBK,OAArB;AACD,KAJQ;AAKTC,IAAAA,YALS,wBAKKR,KALL,EAKY;AACnBA,MAAAA,KAAK,CAACC,WAAN,GAAoB,IAApB;AACAD,MAAAA,KAAK,CAACE,YAAN,GAAqB,IAArB;AACD;AARQ,GANiB;AAgB5BO,EAAAA,OAAO,EAAE;AACPC,IAAAA,QADO,oBACGV,KADH,EACU;AACf,aAAOA,KAAK,CAACC,WAAN,IAAqB,IAA5B;AACD;AAHM,GAhBmB;AAqB5BU,EAAAA,OAAO,EAAE;AACPC,IAAAA,UADO,sBACKC,OADL,EACc;AACnB,UAAIA,OAAO,CAACJ,OAAR,CAAgBC,QAApB,EAA8B;AAC1BG,QAAAA,OAAO,CAACC,MAAR,CAAe,cAAf;AACH;AACF,KALM;AAMPC,IAAAA,SANO,qBAMIF,OANJ,EAMaG,eANb,EAM8B;AACnC,aAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtCtB,QAAAA,MAAM,CAACuB,IAAP,CAAY,aAAZ,EAA2B;AACzBC,UAAAA,QAAQ,EAAEL,eAAe,CAACK,QADD;AAEzBC,UAAAA,QAAQ,EAAEN,eAAe,CAACM;AAFD,SAA3B,EAIGC,IAJH,CAIQ,UAAAC,QAAQ,EAAI;AAChBX,UAAAA,OAAO,CAACC,MAAR,CAAe,eAAf,EAAgC;AAAER,YAAAA,MAAM,EAAEkB,QAAQ,CAACC,IAAT,CAAcnB,MAAxB;AAAgCC,YAAAA,OAAO,EAAEiB,QAAQ,CAACC,IAAT,CAAclB;AAAvD,WAAhC;AACAW,UAAAA,OAAO;AACR,SAPH,EAQGQ,KARH,CAQS,UAAAC,GAAG,EAAI;AACZR,UAAAA,MAAM,CAACQ,GAAD,CAAN;AACD,SAVH;AAWD,OAZM,CAAP;AAaD;AApBM;AArBmB,CAAf,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport { getAPI } from './axios-api'\r\n\r\nVue.use(Vuex)\r\nexport default new Vuex.Store({\r\n  state: {\r\n     accessToken: null,\r\n     refreshToken: null,\r\n     APIData: ''\r\n  },\r\n  mutations: {\r\n    updateStorage (state, { access, refresh }) {\r\n      state.accessToken = access\r\n      state.refreshToken = refresh\r\n    },\r\n    destroyToken (state) {\r\n      state.accessToken = null\r\n      state.refreshToken = null\r\n    }\r\n  },\r\n  getters: {\r\n    loggedIn (state) {\r\n      return state.accessToken != null\r\n    }\r\n  },\r\n  actions: {\r\n    userLogout (context) {\r\n      if (context.getters.loggedIn) {\r\n          context.commit('destroyToken')\r\n      }\r\n    },\r\n    userLogin (context, usercredentials) {\r\n      return new Promise((resolve, reject) => {\r\n        getAPI.post('/api-token/', {\r\n          username: usercredentials.username,\r\n          password: usercredentials.password\r\n        })\r\n          .then(response => {\r\n            context.commit('updateStorage', { access: response.data.access, refresh: response.data.refresh }) \r\n            resolve()\r\n          })\r\n          .catch(err => {\r\n            reject(err)\r\n          })\r\n      })\r\n    }\r\n  }\r\n})\r\n"]}]}